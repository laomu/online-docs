# Matplotlibï¼šå›¾è¡¨è‰ºæœ¯å®¶çš„æ¬¢ä¹ä¹‹æ—… ğŸ¨ğŸ“Š

## ç¬¬ä¸€ç« ï¼šåˆè¯† Matplotlib - ä½ çš„æ•°æ®å¯è§†åŒ–å¥½ä¼™ä¼´ ğŸ¤

### 1.1 Matplotlib ç®€ä»‹

å˜¿ï¼Œå„ä½æ•°æ®æ¢é™©å®¶ï¼æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€å †æ¯ç‡¥çš„æ•°å­—ï¼Œä½†æ²¡äººæ„¿æ„ç›¯ç€å®ƒä»¬çœ‹è¶…è¿‡5ç§’é’Ÿã€‚è¿™æ—¶å€™ï¼ŒMatplotlib é—ªäº®ç™»åœºï¼å®ƒå°±åƒæ˜¯æ•°æ®çš„åŒ–å¦†å¸ˆï¼Œèƒ½è®©æœ€æ— èŠçš„æ•°æ®ä¹Ÿå˜å¾—æ€§æ„Ÿèµ·æ¥ï¼

```python
import matplotlib.pyplot as plt
import numpy as np

# æœ€ç®€å•çš„å›¾è¡¨ - å°±åƒä½ çš„ç¬¬ä¸€æ¬¡çº¦ä¼šï¼Œç®€å•ä½†ä»¤äººéš¾å¿˜
plt.plot([1, 2, 3, 4], [1, 4, 9, 16])
plt.title('æˆ‘çš„ç¬¬ä¸€å¼ å›¾è¡¨ï¼Œæ¿€åŠ¨å—ï¼Ÿ')
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æå­¦ç”Ÿå››å¹´GPAå˜åŒ–è¶‹åŠ¿ï¼Œçœ‹çœ‹æ˜¯å¦ç¬¦åˆ"å¤§ä¸€åŠªåŠ›ã€å¤§äºŒæ¾æ‡ˆã€å¤§ä¸‰ææ…Œã€å¤§å››çˆ†å‘"çš„è§„å¾‹ã€‚

### 1.2 Matplotlib æ¶æ„

```python
# é¢å‘å¯¹è±¡çš„æ–¹å¼ - æ›´çµæ´»ï¼Œå°±åƒå®šåˆ¶è¥¿è£…è€Œä¸æ˜¯ä¹°æˆè¡£
fig, ax = plt.subplots()
ax.plot([1, 2, 3, 4], [1, 4, 9, 16])
ax.set_title('é¢å‘å¯¹è±¡é£æ ¼ï¼Œä¸“ä¸šäººå£«çš„é€‰æ‹©')
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†ææŸç§‘æŠ€å…¬å¸åå¹´è‚¡ä»·èµ°åŠ¿ï¼ŒåŒæ—¶æ ‡æ³¨é‡å¤§äº§å“å‘å¸ƒæ—¶é—´ç‚¹ï¼Œçœ‹äº§å“åˆ›æ–°ä¸è‚¡ä»·çš„å…³ç³»ã€‚

## ç¬¬äºŒç« ï¼šå›¾è¡¨æ„å»ºåŸºç¡€ - ä»"èƒ½çœ‹"åˆ°"å¥½çœ‹" ğŸ› ï¸

### 2.1 åˆ›å»ºå’Œè‡ªå®šä¹‰å›¾è¡¨

```python
# åˆ›å»ºç”»å¸ƒå’Œå­å›¾ - å°±åƒå‡†å¤‡ä¸€å¼ ç”»å¸ƒå’Œè°ƒè‰²æ¿
fig, ax = plt.subplots(figsize=(10, 6))  # æŒ‡å®šå›¾è¡¨å¤§å°

# ç»˜åˆ¶æ•°æ®
x = np.linspace(0, 10, 100)
y = np.sin(x)
ax.plot(x, y, label='æ­£å¼¦æ³¢')

# æ·»åŠ æ ‡é¢˜å’Œæ ‡ç­¾ - æ²¡æœ‰æ ‡ç­¾çš„å›¾è¡¨å°±åƒæ²¡æœ‰å§“åçš„äºº
ax.set_title('ç¾ä¸½çš„æ­£å¼¦æ³¢', fontsize=16)
ax.set_xlabel('æ—¶é—´ (ç§’)', fontsize=12)
ax.set_ylabel('æŒ¯å¹…', fontsize=12)

# æ·»åŠ å›¾ä¾‹ - å‘Šè¯‰è§‚ä¼—è°æ˜¯è°
ax.legend()

# æ·»åŠ ç½‘æ ¼çº¿ - è®©æ•°æ®ä¸å†è¿·è·¯
ax.grid(True, linestyle='--', alpha=0.7)

plt.tight_layout()  # è‡ªåŠ¨è°ƒæ•´å¸ƒå±€ï¼Œé¿å…æ‹¥æŒ¤
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æåŸå¸‚ä¸€å¹´å†…çš„æ¸©åº¦å˜åŒ–æ›²çº¿ï¼Œæ ‡è®°å››å­£å˜åŒ–ç‚¹ï¼Œå¸®åŠ©æ—…æ¸¸å±€ç¡®å®šæœ€ä½³æ—…æ¸¸æ¨å¹¿æ—¶é—´ã€‚

### 2.2 å¤šå›¾å¸ƒå±€

```python
# åˆ›å»ºå¤šä¸ªå­å›¾ - æ•°æ®çš„å…¬å¯“æ¥¼
fig, axs = plt.subplots(2, 2, figsize=(12, 8))

# ç¬¬ä¸€ä¸ªå­å›¾ï¼šçº¿å›¾
axs[0, 0].plot(np.random.rand(10))
axs[0, 0].set_title('çº¿å›¾ï¼šç®€å•ä½†ç»å…¸')

# ç¬¬äºŒä¸ªå­å›¾ï¼šæ•£ç‚¹å›¾
axs[0, 1].scatter(np.arange(10), np.random.rand(10))
axs[0, 1].set_title('æ•£ç‚¹å›¾ï¼šæ•°æ®çš„æ˜Ÿç©º')

# ç¬¬ä¸‰ä¸ªå­å›¾ï¼šæ¡å½¢å›¾
axs[1, 0].bar(np.arange(10), np.random.rand(10))
axs[1, 0].set_title('æ¡å½¢å›¾ï¼šæ•°æ®çš„é•¿çŸ­æ¯”æ‹¼')

# ç¬¬å››ä¸ªå­å›¾ï¼šé¥¼å›¾
axs[1, 1].pie([1, 2, 3, 4], labels=['A', 'B', 'C', 'D'])
axs[1, 1].set_title('é¥¼å›¾ï¼šåˆ†äº«æ•°æ®çš„è›‹ç³•')

plt.tight_layout()
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æä¸€å®¶ç”µå•†å¹³å°çš„å­£åº¦æŠ¥è¡¨ï¼ŒåŒæ—¶å±•ç¤ºé”€å”®é¢ã€ç”¨æˆ·å¢é•¿ã€äº§å“ç±»åˆ«åˆ†å¸ƒå’Œåœ°åŒºé”€å”®æ¯”ä¾‹ã€‚

## ç¬¬ä¸‰ç« ï¼šå›¾è¡¨æ ·å¼ä¸ç¾åŒ– - è®©ä½ çš„å›¾è¡¨ç©¿ä¸Šæ—¶å°šå¤–è¡£ ğŸ‘”

### 3.1 é¢œè‰²ã€çº¿å‹å’Œæ ‡è®°

```python
# é¢œè‰²å’Œçº¿å‹çš„é­”æ³• - è®©å›¾è¡¨ä¸å†å•è°ƒ
x = np.linspace(0, 10, 100)

plt.figure(figsize=(10, 6))

# ä¸åŒé¢œè‰²ã€çº¿å‹å’Œæ ‡è®°çš„ç»„åˆ
plt.plot(x, np.sin(x), 'r-', label='çº¢è‰²å®çº¿')
plt.plot(x, np.sin(x+1), 'b--', label='è“è‰²è™šçº¿')
plt.plot(x, np.sin(x+2), 'g-.', label='ç»¿è‰²ç‚¹åˆ’çº¿')
plt.plot(x, np.sin(x+3), 'mo:', label='å“çº¢åœ†ç‚¹')

plt.title('çº¿å‹å’Œé¢œè‰²çš„ç››å®´')
plt.legend()
plt.grid(True)
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šæ¯”è¾ƒå››ä¸ªä¸åŒæŠ•èµ„ç­–ç•¥åœ¨è¿‡å»åå¹´çš„æ”¶ç›Šç‡æ›²çº¿ï¼Œç”¨ä¸åŒé¢œè‰²å’Œçº¿å‹åŒºåˆ†ï¼Œå¸®åŠ©æŠ•èµ„è€…ç›´è§‚é€‰æ‹©ã€‚

### 3.2 è‡ªå®šä¹‰æ ·å¼å’Œä¸»é¢˜

```python
# ä½¿ç”¨æ ·å¼è¡¨ - å›¾è¡¨çš„æ—¶è£…ç§€
plt.style.use('ggplot')  # å°è¯•ï¼š'seaborn', 'dark_background', 'bmh'

fig, ax = plt.subplots(figsize=(10, 6))
x = np.linspace(0, 10, 100)
ax.plot(x, np.sin(x), label='Sin(x)')
ax.plot(x, np.cos(x), label='Cos(x)')
ax.set_title('ä½¿ç”¨ggploté£æ ¼ - è®©å›¾è¡¨æœ‰æ ¼è°ƒ')
ax.legend()

plt.show()

# æ¢å¤é»˜è®¤æ ·å¼
plt.style.use('default')
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šä¸ºå­¦æœ¯è®ºæ–‡å‡†å¤‡ä¸åŒé£æ ¼çš„å›¾è¡¨ï¼Œçœ‹å“ªç§é£æ ¼æœ€é€‚åˆæœŸåˆŠçš„è¦æ±‚ï¼ŒåŒæ—¶ä¿æŒæ•°æ®çš„æ¸…æ™°å¯è¯»ã€‚

### 3.3 æ·»åŠ æ³¨é‡Šå’Œæ–‡æœ¬

```python
# æ·»åŠ æ–‡æœ¬å’Œæ³¨é‡Š - å›¾è¡¨çš„è§£è¯´å‘˜
fig, ax = plt.subplots(figsize=(10, 6))

x = np.linspace(0, 10, 100)
y = np.sin(x)
ax.plot(x, y)

# æ·»åŠ æ–‡æœ¬
ax.text(4, 0.8, 'è¿™æ˜¯ä¸€ä¸ªé‡è¦ä½ç½®', fontsize=12)

# æ·»åŠ å¸¦ç®­å¤´çš„æ³¨é‡Š
ax.annotate('å±€éƒ¨æœ€å¤§å€¼', 
            xy=(3*np.pi/2, 1), xytext=(3, 0.5),
            arrowprops=dict(facecolor='black', shrink=0.05))

ax.set_title('å¸¦æ³¨é‡Šçš„å›¾è¡¨ - è®©æ•°æ®ä¼šè¯´è¯')
plt.grid(True)
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†ææŸå…¬å¸è‚¡ä»·èµ°åŠ¿ï¼Œæ ‡æ³¨é‡å¤§äº‹ä»¶ï¼ˆå¦‚CEOæ›´æ¢ã€äº§å“å‘å¸ƒã€è´¢æŠ¥å…¬å¸ƒï¼‰å¯¹è‚¡ä»·çš„å½±å“ã€‚

## ç¬¬å››ç« ï¼šä¸­æ–‡æ˜¾ç¤º - è®©å›¾è¡¨è¯´ä¸­å›½è¯ ğŸ‡¨ğŸ‡³

### 4.1 é…ç½®ä¸­æ–‡å­—ä½“

```python
# é…ç½®ä¸­æ–‡æ˜¾ç¤º - è®©å›¾è¡¨ä¸å†æ˜¯æ–‡ç›²
import matplotlib.pyplot as plt
import numpy as np
from matplotlib import font_manager

# æ–¹æ³•ä¸€ï¼šæŒ‡å®šå­—ä½“æ–‡ä»¶
font_path = '/path/to/SimHei.ttf'  # æ›¿æ¢ä¸ºä½ çš„ä¸­æ–‡å­—ä½“è·¯å¾„
font_prop = font_manager.FontProperties(fname=font_path)

# æ–¹æ³•äºŒï¼šä½¿ç”¨ç³»ç»Ÿä¸­å·²å®‰è£…çš„å­—ä½“
# font_prop = font_manager.FontProperties(family='SimHei')

x = np.linspace(0, 10, 100)
y = np.sin(x)

plt.figure(figsize=(10, 6))
plt.plot(x, y)
plt.title('ç¾ä¸½çš„æ­£å¼¦æ³¢ - ä¸­æ–‡æ ‡é¢˜', fontproperties=font_prop)
plt.xlabel('æ—¶é—´ï¼ˆç§’ï¼‰', fontproperties=font_prop)
plt.ylabel('æŒ¯å¹…', fontproperties=font_prop)
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æä¸­å›½å„çœä»½GDPå¢é•¿ç‡ï¼Œä½¿ç”¨ä¸­æ–‡çœä»½åç§°å’Œç»æµæŒ‡æ ‡åç§°ï¼Œä¸ºå›½å†…ç»æµæŠ¥å‘Šåšå‡†å¤‡ã€‚

### 4.2 å…¨å±€è®¾ç½®ä¸­æ–‡

```python
# å…¨å±€è®¾ç½®ä¸­æ–‡ - ä¸€åŠ³æ°¸é€¸
import matplotlib.pyplot as plt
import matplotlib as mpl
import numpy as np

# è®¾ç½®å…¨å±€å­—ä½“ä¸ºä¸­æ–‡
mpl.rcParams['font.sans-serif'] = ['SimHei']  # æŒ‡å®šé»˜è®¤å­—ä½“
mpl.rcParams['axes.unicode_minus'] = False  # è§£å†³ä¿å­˜å›¾åƒè´Ÿå·'-'æ˜¾ç¤ºä¸ºæ–¹å—çš„é—®é¢˜

x = np.linspace(0, 10, 100)
y = np.sin(x)

plt.figure(figsize=(10, 6))
plt.plot(x, y)
plt.title('ç°åœ¨æ‰€æœ‰æ–‡å­—éƒ½å¯ä»¥æ˜¾ç¤ºä¸­æ–‡å•¦ï¼')
plt.xlabel('æ¨ªè½´ï¼šæ—¶é—´ï¼ˆç§’ï¼‰')
plt.ylabel('çºµè½´ï¼šæŒ¯å¹…')
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ¶ä½œä¸­å›½åŸå¸‚ç©ºæ°”è´¨é‡æŠ¥å‘Šï¼ŒåŒ…å«PM2.5ã€è‡­æ°§ç­‰å¤šé¡¹æŒ‡æ ‡çš„ä¸­æ–‡å›¾è¡¨ï¼Œç”¨äºç¯ä¿éƒ¨é—¨çš„å…¬å¼€æŠ¥å‘Šã€‚

## ç¬¬äº”ç« ï¼šå¸¸è§å›¾è¡¨ç±»å‹ - æ•°æ®å¯è§†åŒ–çš„ç™¾å®ç®± ğŸ§°

### 5.1 çº¿å›¾ - è¶‹åŠ¿çš„æœ€ä½³ä¼™ä¼´

```python
# çº¿å›¾ - å±•ç¤ºæ•°æ®éšæ—¶é—´çš„å˜åŒ–
import matplotlib.pyplot as plt
import numpy as np

# ç”Ÿæˆæ•°æ®
years = np.arange(2010, 2023)
revenue = np.array([5.2, 5.7, 6.1, 7.0, 8.3, 9.8, 11.2, 13.5, 15.8, 18.2, 16.9, 19.5, 22.1])
profit = np.array([1.1, 1.3, 1.4, 1.7, 2.0, 2.3, 2.8, 3.4, 4.0, 4.6, 3.8, 4.9, 5.5])

plt.figure(figsize=(12, 6))

# ç»˜åˆ¶å¤šæ¡çº¿
plt.plot(years, revenue, 'b-', linewidth=2, label='è¥ä¸šæ”¶å…¥')
plt.plot(years, profit, 'r-', linewidth=2, label='å‡€åˆ©æ¶¦')

# æ·»åŠ æ ‡è®°ç‚¹
plt.plot(years, revenue, 'bo', markersize=6)
plt.plot(years, profit, 'ro', markersize=6)

# è®¾ç½®å›¾è¡¨
plt.title('æŸç§‘æŠ€å…¬å¸2010-2022å¹´è´¢åŠ¡è¡¨ç°')
plt.xlabel('å¹´ä»½')
plt.ylabel('é‡‘é¢ï¼ˆåäº¿å…ƒï¼‰')
plt.grid(True, linestyle='--', alpha=0.7)
plt.legend()

# æ·»åŠ æ³¨é‡Š
plt.annotate('ç–«æƒ…å½±å“', xy=(2020, 16.9), xytext=(2018, 14),
            arrowprops=dict(facecolor='black', shrink=0.05))

plt.tight_layout()
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æä¸€å®¶å…¬å¸13å¹´çš„è´¢åŠ¡æ•°æ®ï¼Œå±•ç¤ºè¥æ”¶å’Œåˆ©æ¶¦çš„å˜åŒ–è¶‹åŠ¿ï¼Œå¹¶æ ‡æ³¨é‡å¤§äº‹ä»¶å¯¹ä¸šç»©çš„å½±å“ã€‚

### 5.2 æ•£ç‚¹å›¾ - å…³ç³»çš„æ¢ç´¢è€…

```python
# æ•£ç‚¹å›¾ - æ¢ç´¢å˜é‡ä¹‹é—´çš„å…³ç³»
import matplotlib.pyplot as plt
import numpy as np

# ç”Ÿæˆæ•°æ®
np.random.seed(42)
study_hours = np.random.normal(5, 1.5, 80)  # å¹³å‡5å°æ—¶ï¼Œæ ‡å‡†å·®1.5
scores = 60 + 8 * study_hours + np.random.normal(0, 10, 80)  # åŸºç¡€åˆ†60ï¼Œæ¯å­¦ä¹ 1å°æ—¶åŠ 8åˆ†ï¼ŒåŠ ä¸Šéšæœºè¯¯å·®

# é™åˆ¶åˆ†æ•°èŒƒå›´åœ¨0-100ä¹‹é—´
scores = np.clip(scores, 0, 100)

# åˆ›å»ºæ•£ç‚¹å›¾
plt.figure(figsize=(10, 6))

# ä½¿ç”¨é¢œè‰²æ˜ å°„æ ¹æ®åˆ†æ•°ç€è‰²
scatter = plt.scatter(study_hours, scores, c=scores, cmap='viridis', 
                     s=100, alpha=0.7, edgecolors='w', linewidth=0.5)

# æ·»åŠ é¢œè‰²æ¡
cbar = plt.colorbar(scatter)
cbar.set_label('è€ƒè¯•åˆ†æ•°')

# æ·»åŠ è¶‹åŠ¿çº¿
z = np.polyfit(study_hours, scores, 1)
p = np.poly1d(z)
plt.plot(study_hours, p(study_hours), "r--", alpha=0.8, linewidth=2)

# æ·»åŠ ç›¸å…³ç³»æ•°
corr_coef = np.corrcoef(study_hours, scores)[0, 1]
plt.text(1, 90, f'ç›¸å…³ç³»æ•°: {corr_coef:.2f}', fontsize=12)

# è®¾ç½®å›¾è¡¨
plt.title('å­¦ä¹ æ—¶é—´ä¸è€ƒè¯•æˆç»©çš„å…³ç³»')
plt.xlabel('æ¯æ—¥å­¦ä¹ æ—¶é—´ï¼ˆå°æ—¶ï¼‰')
plt.ylabel('è€ƒè¯•åˆ†æ•°')
plt.grid(True, linestyle='--', alpha=0.3)

plt.tight_layout()
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æå­¦ç”Ÿå­¦ä¹ æ—¶é—´ä¸è€ƒè¯•æˆç»©çš„å…³ç³»ï¼Œå¸®åŠ©æ•™è‚²å·¥ä½œè€…äº†è§£æ—¶é—´æŠ•å…¥ä¸æˆç»©çš„ç›¸å…³æ€§ã€‚

### 5.3 æŸ±çŠ¶å›¾å’Œæ¡å½¢å›¾ - æ¯”è¾ƒçš„èƒ½æ‰‹

```python
# æŸ±çŠ¶å›¾ - æ¯”è¾ƒä¸åŒç±»åˆ«çš„æ•°é‡
import matplotlib.pyplot as plt
import numpy as np

# æ•°æ®å‡†å¤‡
categories = ['åŠ¨ä½œç‰‡', 'å–œå‰§ç‰‡', 'ç§‘å¹»ç‰‡', 'ææ€–ç‰‡', 'åŠ¨ç”»ç‰‡', 'å‰§æƒ…ç‰‡']
box_office = [25.3, 18.7, 31.5, 12.8, 22.6, 17.2]  # å•ä½ï¼šäº¿å…ƒ

# åˆ›å»ºæŸ±çŠ¶å›¾
plt.figure(figsize=(12, 6))

# åŸºæœ¬æŸ±çŠ¶å›¾
bars = plt.bar(categories, box_office, width=0.6, edgecolor='black', linewidth=1)

# ä¸ºæ¯ä¸ªæŸ±å­è®¾ç½®ä¸åŒé¢œè‰²
colors = plt.cm.viridis(np.linspace(0, 1, len(categories)))
for bar, color in zip(bars, colors):
    bar.set_color(color)

# åœ¨æŸ±å­ä¸Šæ–¹æ·»åŠ æ•°å€¼æ ‡ç­¾
for bar in bars:
    height = bar.get_height()
    plt.text(bar.get_x() + bar.get_width()/2., height + 0.5,
            f'{height}äº¿', ha='center', va='bottom', fontsize=10)

# è®¾ç½®å›¾è¡¨
plt.title('2022å¹´ä¸åŒç±»å‹ç”µå½±ç¥¨æˆ¿æ”¶å…¥')
plt.xlabel('ç”µå½±ç±»å‹')
plt.ylabel('ç¥¨æˆ¿æ”¶å…¥ï¼ˆäº¿å…ƒï¼‰')
plt.ylim(0, max(box_office) * 1.2)  # è®¾ç½®yè½´ä¸Šé™ï¼Œç•™å‡ºç©ºé—´æ˜¾ç¤ºæ•°å€¼
plt.grid(axis='y', linestyle='--', alpha=0.7)

plt.tight_layout()
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æä¸åŒç±»å‹ç”µå½±çš„ç¥¨æˆ¿è¡¨ç°ï¼Œå¸®åŠ©ç”µå½±åˆ¶ç‰‡å…¬å¸å†³å®šæŠ•èµ„æ–¹å‘ã€‚

### 5.4 é¥¼å›¾ - éƒ¨åˆ†ä¸æ•´ä½“çš„å…³ç³»

```python
# é¥¼å›¾ - å±•ç¤ºéƒ¨åˆ†ä¸æ•´ä½“çš„å…³ç³»
import matplotlib.pyplot as plt

# æ•°æ®å‡†å¤‡
categories = ['ä½æˆ¿', 'é£Ÿå“', 'äº¤é€š', 'æ•™è‚²', 'å¨±ä¹', 'å…¶ä»–']
expenses = [35, 25, 15, 10, 8, 7]  # ç™¾åˆ†æ¯”

# åˆ›å»ºé¥¼å›¾
plt.figure(figsize=(10, 8))

# çªå‡ºæ˜¾ç¤ºæœ€å¤§çš„éƒ¨åˆ†
explode = [0.1 if i == expenses.index(max(expenses)) else 0 for i in range(len(expenses))]

# ç»˜åˆ¶é¥¼å›¾
wedges, texts, autotexts = plt.pie(expenses, explode=explode, labels=categories, 
                                  autopct='%1.1f%%', startangle=90, shadow=True,
                                  wedgeprops={'edgecolor': 'w', 'linewidth': 1},
                                  textprops={'fontsize': 12})

# è®¾ç½®è‡ªåŠ¨æ–‡æœ¬çš„æ ·å¼
for autotext in autotexts:
    autotext.set_color('white')
    autotext.set_fontsize(12)
    autotext.set_fontweight('bold')

# æ·»åŠ æ ‡é¢˜
plt.title('åŸå¸‚å®¶åº­æœˆæ”¯å‡ºç»“æ„')

# ç¡®ä¿é¥¼å›¾æ˜¯åœ†å½¢çš„
plt.axis('equal')

plt.tight_layout()
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æåŸå¸‚å®¶åº­çš„æœˆæ”¯å‡ºç»“æ„ï¼Œå¸®åŠ©é‡‘èæœºæ„å¼€å‘é’ˆå¯¹æ€§çš„ç†è´¢äº§å“ã€‚

### 5.5 ç›´æ–¹å›¾ - åˆ†å¸ƒçš„æç»˜è€…

```python
# ç›´æ–¹å›¾ - å±•ç¤ºæ•°æ®çš„åˆ†å¸ƒ
import matplotlib.pyplot as plt
import numpy as np

# ç”Ÿæˆä¸¤ç»„æ•°æ®
np.random.seed(42)
data1 = np.random.normal(170, 7, 1000)  # ç”·æ€§èº«é«˜ï¼Œå‡å€¼170ï¼Œæ ‡å‡†å·®7
data2 = np.random.normal(160, 6, 1000)  # å¥³æ€§èº«é«˜ï¼Œå‡å€¼160ï¼Œæ ‡å‡†å·®6

# åˆ›å»ºç›´æ–¹å›¾
plt.figure(figsize=(12, 6))

# ç»˜åˆ¶ä¸¤ç»„ç›´æ–¹å›¾ï¼Œè®¾ç½®é€æ˜åº¦ä½¿é‡å éƒ¨åˆ†å¯è§
plt.hist(data1, bins=30, alpha=0.5, label='ç”·æ€§', color='blue', edgecolor='black')
plt.hist(data2, bins=30, alpha=0.5, label='å¥³æ€§', color='red', edgecolor='black')

# æ·»åŠ å‡å€¼çº¿
plt.axvline(np.mean(data1), color='blue', linestyle='dashed', linewidth=2, label='ç”·æ€§å¹³å‡èº«é«˜')
plt.axvline(np.mean(data2), color='red', linestyle='dashed', linewidth=2, label='å¥³æ€§å¹³å‡èº«é«˜')

# è®¾ç½®å›¾è¡¨
plt.title('æˆå¹´äººèº«é«˜åˆ†å¸ƒ')
plt.xlabel('èº«é«˜ (cm)')
plt.ylabel('é¢‘æ•°')
plt.legend()
plt.grid(True, linestyle='--', alpha=0.7)

plt.tight_layout()
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æç”·å¥³èº«é«˜åˆ†å¸ƒï¼Œå¸®åŠ©æœè£…ä¼ä¸šç¡®å®šå°ºç èŒƒå›´å’Œæ¯”ä¾‹ã€‚

### 5.6 ç®±çº¿å›¾ - æ•°æ®åˆ†å¸ƒçš„æ¦‚è§ˆ

```python
# ç®±çº¿å›¾ - å±•ç¤ºæ•°æ®çš„åˆ†å¸ƒç‰¹å¾
import matplotlib.pyplot as plt
import numpy as np

# ç”Ÿæˆæ•°æ®
np.random.seed(42)
schools = ['Aå­¦æ ¡', 'Bå­¦æ ¡', 'Cå­¦æ ¡', 'Då­¦æ ¡', 'Eå­¦æ ¡']
data = [np.random.normal(70, 10, 30), 
        np.random.normal(80, 5, 30), 
        np.random.normal(65, 15, 30), 
        np.random.normal(75, 8, 30),
        np.random.normal(68, 12, 30)]

# åˆ›å»ºç®±çº¿å›¾
plt.figure(figsize=(12, 6))

# ç»˜åˆ¶ç®±çº¿å›¾
box = plt.boxplot(data, patch_artist=True, labels=schools, 
                 flierprops={'marker': 'o', 'markerfacecolor': 'red', 'markersize': 8})

# ä¸ºæ¯ä¸ªç®±å­è®¾ç½®ä¸åŒçš„é¢œè‰²
colors = plt.cm.viridis(np.linspace(0, 1, len(schools)))
for patch, color in zip(box['boxes'], colors):
    patch.set_facecolor(color)

# è®¾ç½®å›¾è¡¨
plt.title('å„å­¦æ ¡å­¦ç”Ÿæ•°å­¦æˆç»©åˆ†å¸ƒ')
plt.xlabel('å­¦æ ¡')
plt.ylabel('æ•°å­¦æˆç»©')
plt.grid(True, linestyle='--', alpha=0.7, axis='y')

# æ·»åŠ å¹³å‡åˆ†æ•°æ®
for i, d in enumerate(data):
    plt.text(i+1, np.min(d)-5, f'å¹³å‡: {np.mean(d):.1f}', ha='center')

plt.tight_layout()
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šæ¯”è¾ƒä¸åŒå­¦æ ¡å­¦ç”Ÿçš„æ•°å­¦æˆç»©åˆ†å¸ƒï¼Œå¸®åŠ©æ•™è‚²éƒ¨é—¨è¯„ä¼°æ•™å­¦è´¨é‡å·®å¼‚ã€‚

### 5.7 çƒ­å›¾ - ç›¸å…³æ€§çš„å¯è§†åŒ–

```python
# çƒ­å›¾ - å±•ç¤ºæ•°æ®çš„ç›¸å…³æ€§
import matplotlib.pyplot as plt
import numpy as np
import seaborn as sns

# ç”Ÿæˆç›¸å…³çŸ©é˜µ
np.random.seed(42)
subjects = ['æ•°å­¦', 'è¯­æ–‡', 'è‹±è¯­', 'ç‰©ç†', 'åŒ–å­¦', 'ç”Ÿç‰©', 'å†å²', 'åœ°ç†']
n = len(subjects)

# åˆ›å»ºä¸€ä¸ªéšæœºç›¸å…³çŸ©é˜µï¼ˆå¯¹ç§°çŸ©é˜µï¼‰
corr_matrix = np.random.rand(n, n) * 2 - 1  # ç”Ÿæˆ-1åˆ°1ä¹‹é—´çš„éšæœºæ•°
corr_matrix = (corr_matrix + corr_matrix.T) / 2  # ä½¿çŸ©é˜µå¯¹ç§°
np.fill_diagonal(corr_matrix, 1)  # å¯¹è§’çº¿è®¾ä¸º1ï¼ˆè‡ªç›¸å…³ï¼‰

# åˆ›å»ºçƒ­å›¾
plt.figure(figsize=(10, 8))

# ä½¿ç”¨seabornç»˜åˆ¶çƒ­å›¾
sns.heatmap(corr_matrix, annot=True, cmap='coolwarm', vmin=-1, vmax=1,
           xticklabels=subjects, yticklabels=subjects, square=True, linewidths=0.5)

# è®¾ç½®å›¾è¡¨
plt.title('é«˜ä¸­å„ç§‘ç›®æˆç»©ç›¸å…³æ€§åˆ†æ')
plt.tight_layout()
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ†æé«˜ä¸­å„ç§‘ç›®æˆç»©ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œå¸®åŠ©æ•™è‚²å·¥ä½œè€…äº†è§£å­¦ç§‘ä¹‹é—´çš„å…³è”ï¼Œä¼˜åŒ–æ•™å­¦ç­–ç•¥ã€‚

### 5.8 3Då›¾è¡¨ - å¤šç»´æ•°æ®çš„å±•ç¤º

```python
# 3Då›¾è¡¨ - å±•ç¤ºä¸‰ç»´æ•°æ®
import matplotlib.pyplot as plt
import numpy as np
from mpl_toolkits.mplot3d import Axes3D

# åˆ›å»º3Då›¾è¡¨
fig = plt.figure(figsize=(12, 8))
ax = fig.add_subplot(111, projection='3d')

# ç”Ÿæˆæ•°æ®
x = np.linspace(-5, 5, 50)
y = np.linspace(-5, 5, 50)
X, Y = np.meshgrid(x, y)
Z = np.sin(np.sqrt(X**2 + Y**2))

# ç»˜åˆ¶3Dæ›²é¢
surf = ax.plot_surface(X, Y, Z, cmap='viridis', edgecolor='none', alpha=0.8)

# æ·»åŠ é¢œè‰²æ¡
fig.colorbar(surf, ax=ax, shrink=0.5, aspect=5)

# è®¾ç½®å›¾è¡¨
ax.set_title('ä¸‰ç»´æ›²é¢å›¾ç¤ºä¾‹')
ax.set_xlabel('Xè½´')
ax.set_ylabel('Yè½´')
ax.set_zlabel('Zè½´')

# è®¾ç½®è§‚å¯Ÿè§’åº¦
ax.view_init(elev=30, azim=45)

plt.tight_layout()
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šå¯è§†åŒ–åœ°å½¢æ•°æ®æˆ–è€…ç‰©ç†æ¨¡æ‹Ÿç»“æœï¼Œå¦‚å±•ç¤ºæŸåœ°åŒºçš„æµ·æ‹”åˆ†å¸ƒæˆ–æ¸©åº¦åœºåˆ†å¸ƒã€‚

## ç¬¬å…­ç« ï¼šäº¤äº’å¼å›¾è¡¨ - è®©æ•°æ®åŠ¨èµ·æ¥ ğŸ®

### 6.1 åŠ¨ç”»å›¾è¡¨

```python
# åŠ¨ç”»å›¾è¡¨ - æ•°æ®çš„ç”µå½±
import matplotlib.pyplot as plt
import matplotlib.animation as animation
import numpy as np

# åˆ›å»ºå›¾è¡¨
fig, ax = plt.subplots(figsize=(10, 6))

# åˆå§‹æ•°æ®
x = np.linspace(0, 2*np.pi, 100)
line, = ax.plot(x, np.sin(x))

# è®¾ç½®åæ ‡è½´
ax.set_xlim(0, 2*np.pi)
ax.set_ylim(-1.2, 1.2)
ax.set_title('æ­£å¼¦æ³¢åŠ¨ç”»')

# å®šä¹‰åŠ¨ç”»å‡½æ•°
def animate(i):
    line.set_ydata(np.sin(x + i/10))  # æ›´æ–°yæ•°æ®
    return line,

# åˆ›å»ºåŠ¨ç”»
ani = animation.FuncAnimation(fig, animate, frames=100, interval=50, blit=True)

plt.tight_layout()
plt.show()

# ä¿å­˜åŠ¨ç”»ï¼ˆå¯é€‰ï¼‰
# ani.save('sine_wave.gif', writer='pillow', fps=20)
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šå±•ç¤ºè‚¡ç¥¨ä»·æ ¼çš„å®æ—¶å˜åŒ–ï¼Œæˆ–è€…å±•ç¤ºä¸€å¤©ä¸­åŸå¸‚äº¤é€šæµé‡çš„å˜åŒ–ã€‚

## ç¬¬ä¸ƒç« ï¼šé«˜çº§æŠ€å·§ä¸æœ€ä½³å®è·µ - æˆä¸ºå›¾è¡¨å¤§å¸ˆ ğŸ“

### 7.1 è‡ªå®šä¹‰ç»˜å›¾å‡½æ•°

```python
# è‡ªå®šä¹‰ç»˜å›¾å‡½æ•° - ä¸€æ¬¡ç¼–å†™ï¼Œå¤šæ¬¡ä½¿ç”¨
import matplotlib.pyplot as plt
import numpy as np

def create_comparison_chart(data1, data2, labels, title, xlabel, ylabel, colors=['blue', 'red']):
    """åˆ›å»ºå¯¹æ¯”å›¾è¡¨çš„é€šç”¨å‡½æ•°"""
    plt.figure(figsize=(12, 6))
    
    # ç»˜åˆ¶æ•°æ®
    plt.plot(data1, color=colors[0], linewidth=2, marker='o', label=labels[0])
    plt.plot(data2, color=colors[1], linewidth=2, marker='s', label=labels[1])
    
    # è®¾ç½®å›¾è¡¨
    plt.title(title)
    plt.xlabel(xlabel)
    plt.ylabel(ylabel)
    plt.grid(True, linestyle='--', alpha=0.7)
    plt.legend()
    
    return plt.gca()

# ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°
years = np.arange(2015, 2023)
company_a = [10.2, 12.5, 14.8, 16.9, 18.2, 17.5, 19.8, 22.3]
company_b = [8.5, 9.8, 12.3, 15.6, 17.2, 16.8, 18.5, 20.1]

ax = create_comparison_chart(
    company_a, company_b, 
    labels=['å…¬å¸A', 'å…¬å¸B'],
    title='ä¸¤å®¶å…¬å¸ä¸šç»©å¯¹æ¯”',
    xlabel='å¹´ä»½',
    ylabel='è¥ä¸šé¢ï¼ˆäº¿å…ƒï¼‰')

plt.tight_layout()
plt.show()

# ä½¿ç”¨ç¤ºä¾‹
data1 = [100, 120, 140, 180, 210]
data2 = [90, 115, 135, 175, 200]
labels = ['äº§å“A', 'äº§å“B']
create_comparison_chart(data1, data2, labels, 
                       title='äº§å“é”€å”®å¯¹æ¯”',
                       xlabel='å­£åº¦',
                       ylabel='é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰')
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ›å»ºå¯é‡ç”¨çš„å›¾è¡¨å‡½æ•°ï¼Œç»Ÿä¸€ä¼ä¸šå†…éƒ¨æŠ¥è¡¨é£æ ¼ï¼Œæé«˜æ•°æ®å¯è§†åŒ–æ•ˆç‡ã€‚

### 7.2 è‡ªå®šä¹‰æ ·å¼è¡¨

```python
# è‡ªå®šä¹‰æ ·å¼è¡¨ - æ‰“é€ ä¸“å±å›¾è¡¨é£æ ¼
import matplotlib.pyplot as plt
import matplotlib as mpl

# å®šä¹‰è‡ªå®šä¹‰æ ·å¼
style_dict = {
    'figure.figsize': (12, 8),
    'figure.facecolor': '#f0f0f0',
    'axes.facecolor': '#ffffff',
    'axes.grid': True,
    'grid.color': '#cccccc',
    'grid.linestyle': '--',
    'grid.alpha': 0.5,
    'font.size': 12,
    'axes.labelsize': 14,
    'axes.titlesize': 16,
    'lines.linewidth': 2,
    'lines.markersize': 8,
    'legend.fontsize': 12,
    'legend.frameon': True,
    'legend.framealpha': 0.8,
    'legend.edgecolor': '#cccccc'
}

# åº”ç”¨è‡ªå®šä¹‰æ ·å¼
with plt.style.context(style_dict):
    # åˆ›å»ºç¤ºä¾‹å›¾è¡¨
    x = np.linspace(0, 10, 100)
    plt.figure()
    plt.plot(x, np.sin(x), label='sin(x)')
    plt.plot(x, np.cos(x), label='cos(x)')
    plt.title('ä½¿ç”¨è‡ªå®šä¹‰æ ·å¼çš„å›¾è¡¨')
    plt.xlabel('Xè½´')
    plt.ylabel('Yè½´')
    plt.legend()
    plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šä¸ºä¼ä¸šæŠ¥è¡¨åˆ›å»ºç»Ÿä¸€çš„è§†è§‰é£æ ¼ï¼Œç¡®ä¿æ‰€æœ‰éƒ¨é—¨çš„æ•°æ®å¯è§†åŒ–ä¿æŒä¸€è‡´çš„å“ç‰Œå½¢è±¡ã€‚

### 7.3 å›¾è¡¨ç»„åˆæŠ€å·§

```python
# å›¾è¡¨ç»„åˆæŠ€å·§ - åˆ›å»ºå¤æ‚çš„æ•°æ®æ•…äº‹
import matplotlib.pyplot as plt
import numpy as np

def create_dashboard(data, title='æ•°æ®åˆ†æä»ªè¡¨ç›˜'):
    """åˆ›å»ºç»„åˆå›¾è¡¨ä»ªè¡¨ç›˜"""
    # åˆ›å»ºç”»å¸ƒå’Œå­å›¾
    fig = plt.figure(figsize=(15, 10))
    gs = fig.add_gridspec(2, 3)
    
    # æŠ˜çº¿å›¾
    ax1 = fig.add_subplot(gs[0, :2])
    ax1.plot(data['time'], data['values'], 'b-')
    ax1.set_title('æ—¶é—´åºåˆ—è¶‹åŠ¿')
    ax1.grid(True)
    
    # æŸ±çŠ¶å›¾
    ax2 = fig.add_subplot(gs[0, 2])
    ax2.bar(data['categories'], data['counts'])
    ax2.set_title('ç±»åˆ«åˆ†å¸ƒ')
    
    # æ•£ç‚¹å›¾
    ax3 = fig.add_subplot(gs[1, 0])
    ax3.scatter(data['x'], data['y'])
    ax3.set_title('ç›¸å…³æ€§åˆ†æ')
    
    # é¥¼å›¾
    ax4 = fig.add_subplot(gs[1, 1])
    ax4.pie(data['proportions'], labels=data['labels'])
    ax4.set_title('å æ¯”åˆ†æ')
    
    # ç›´æ–¹å›¾
    ax5 = fig.add_subplot(gs[1, 2])
    ax5.hist(data['distribution'], bins=20)
    ax5.set_title('æ•°æ®åˆ†å¸ƒ')
    
    # è®¾ç½®æ•´ä½“æ ‡é¢˜å’Œå¸ƒå±€
    fig.suptitle(title, fontsize=16)
    plt.tight_layout()
    return fig

# ä½¿ç”¨ç¤ºä¾‹
np.random.seed(42)
dashboard_data = {
    'time': np.arange(100),
    'values': np.cumsum(np.random.randn(100)),
    'categories': ['A', 'B', 'C', 'D'],
    'counts': [23, 45, 56, 78],
    'x': np.random.randn(50),
    'y': np.random.randn(50),
    'proportions': [35, 25, 20, 20],
    'labels': ['äº§å“A', 'äº§å“B', 'äº§å“C', 'äº§å“D'],
    'distribution': np.random.normal(0, 1, 1000)
}

create_dashboard(dashboard_data, 'é”€å”®æ•°æ®åˆ†æä»ªè¡¨ç›˜')
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šåˆ›å»ºé”€å”®æ•°æ®åˆ†æä»ªè¡¨ç›˜ï¼Œåœ¨ä¸€ä¸ªé¡µé¢ä¸Šå±•ç¤ºé”€å”®è¶‹åŠ¿ã€äº§å“åˆ†å¸ƒã€å®¢æˆ·åˆ†æç­‰å¤šç»´åº¦ä¿¡æ¯ã€‚

### 7.4 æœ€ä½³å®è·µ

1. **æ•°æ®å‡†å¤‡**
   - åœ¨ç»˜å›¾å‰è¿›è¡Œæ•°æ®æ¸…æ´—å’Œé¢„å¤„ç†
   - ç¡®ä¿æ•°æ®ç±»å‹å’Œæ ¼å¼æ­£ç¡®
   - å¤„ç†å¼‚å¸¸å€¼å’Œç¼ºå¤±å€¼

2. **å›¾è¡¨è®¾è®¡**
   - é€‰æ‹©åˆé€‚çš„å›¾è¡¨ç±»å‹
   - ä½¿ç”¨æ°å½“çš„é¢œè‰²æ–¹æ¡ˆ
   - ä¿æŒç®€æ´ï¼Œé¿å…è¿‡åº¦è£…é¥°
   - ç¡®ä¿å¯è¯»æ€§å’Œå¯ç†è§£æ€§

3. **ä»£ç ç»„ç»‡**
   - åˆ›å»ºå¯é‡ç”¨çš„ç»˜å›¾å‡½æ•°
   - ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼ç»„ç»‡ä»£ç 
   - ä¿æŒä»£ç çš„å¯ç»´æŠ¤æ€§

4. **æ€§èƒ½ä¼˜åŒ–**
   - åˆç†ä½¿ç”¨plt.figure()å’Œplt.close()
   - é¿å…åˆ›å»ºè¿‡å¤šçš„å›¾å½¢å¯¹è±¡
   - é€‚å½“ä½¿ç”¨æ‰¹é‡ç»˜åˆ¶æ–¹æ³•

## ç¬¬å…«ç« ï¼šé¡¹ç›®å®æˆ˜ - æ•°æ®å¯è§†åŒ–æ¡ˆä¾‹åˆ†æ ğŸ“Š

### 8.1 è‚¡ç¥¨å¸‚åœºåˆ†æ

```python
# è‚¡ç¥¨å¸‚åœºåˆ†æ - æŠ€æœ¯æŒ‡æ ‡å¯è§†åŒ–
import matplotlib.pyplot as plt
import numpy as np
from datetime import datetime, timedelta

def plot_stock_analysis(stock_data, title='è‚¡ç¥¨åˆ†æå›¾è¡¨'):
    """åˆ›å»ºè‚¡ç¥¨åˆ†æå›¾è¡¨"""
    # åˆ›å»ºä¸»å›¾å’Œå‰¯å›¾
    fig, (ax1, ax2) = plt.subplots(2, 1, figsize=(12, 8), height_ratios=[3, 1])
    
    # ç»˜åˆ¶Kçº¿å›¾ï¼ˆä½¿ç”¨èœ¡çƒ›å›¾ï¼‰
    dates = stock_data['dates']
    up = stock_data['close'] > stock_data['open']
    down = stock_data['open'] > stock_data['close']
    
    # ä¸Šæ¶¨æ—¥æœŸçš„èœ¡çƒ›å›¾
    ax1.bar(dates[up], stock_data['close'][up] - stock_data['open'][up],
            bottom=stock_data['open'][up], color='red', width=0.8)
    ax1.bar(dates[down], stock_data['close'][down] - stock_data['open'][down],
            bottom=stock_data['open'][down], color='green', width=0.8)
    
    # æ·»åŠ æœ€é«˜ä»·å’Œæœ€ä½ä»·çš„çº¿
    ax1.vlines(dates[up], stock_data['low'][up], stock_data['high'][up],
               color='red', linewidth=1)
    ax1.vlines(dates[down], stock_data['low'][down], stock_data['high'][down],
               color='green', linewidth=1)
    
    # æ·»åŠ ç§»åŠ¨å¹³å‡çº¿
    ma5 = np.convolve(stock_data['close'], np.ones(5)/5, mode='valid')
    ma20 = np.convolve(stock_data['close'], np.ones(20)/20, mode='valid')
    ax1.plot(dates[4:], ma5, 'b-', label='5æ—¥å‡çº¿', linewidth=1)
    ax1.plot(dates[19:], ma20, 'y-', label='20æ—¥å‡çº¿', linewidth=1)
    
    # è®¾ç½®ä¸»å›¾
    ax1.set_title(title)
    ax1.set_ylabel('ä»·æ ¼')
    ax1.grid(True)
    ax1.legend()
    
    # ç»˜åˆ¶æˆäº¤é‡å›¾
    ax2.bar(dates, stock_data['volume'], color=['red' if u else 'green' for u in up],
            width=0.8)
    ax2.set_ylabel('æˆäº¤é‡')
    ax2.grid(True)
    
    # è°ƒæ•´å¸ƒå±€
    plt.tight_layout()
    return fig

# ç”Ÿæˆç¤ºä¾‹æ•°æ®
np.random.seed(42)
dates = np.array([datetime(2023, 1, 1) + timedelta(days=x) for x in range(100)])
price = 100 + np.cumsum(np.random.normal(0, 1, 100)) * 0.5
stock_data = {
    'dates': dates,
    'open': price + np.random.normal(0, 1, 100),
    'close': price + np.random.normal(0, 1, 100),
    'high': price + np.random.normal(1, 0.5, 100),
    'low': price + np.random.normal(-1, 0.5, 100),
    'volume': np.random.normal(1000000, 200000, 100)
}

plot_stock_analysis(stock_data, 'æŸç§‘æŠ€è‚¡ç¥¨åˆ†æ')
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šä¸ºæŠ•èµ„åˆ†æå¸ˆåˆ›å»ºä¸“ä¸šçš„è‚¡ç¥¨åˆ†æå·¥å…·ï¼Œå¸®åŠ©å…¶æ›´å¥½åœ°ç†è§£å¸‚åœºèµ°åŠ¿å’Œåšå‡ºæŠ•èµ„å†³ç­–ã€‚

### 8.2 æ°”è±¡æ•°æ®å¯è§†åŒ–

```python
# æ°”è±¡æ•°æ®å¯è§†åŒ– - å¤©æ°”é¢„æŠ¥å›¾è¡¨
import matplotlib.pyplot as plt
import numpy as np

def plot_weather_forecast(weather_data, title='ä¸ƒæ—¥å¤©æ°”é¢„æŠ¥'):
    """åˆ›å»ºå¤©æ°”é¢„æŠ¥å¯è§†åŒ–å›¾è¡¨"""
    fig, (ax1, ax2, ax3) = plt.subplots(3, 1, figsize=(12, 10), height_ratios=[2, 1, 1])
    
    # æ¸©åº¦æ›²çº¿
    ax1.plot(weather_data['dates'], weather_data['high_temp'], 'r-o',
             label='æœ€é«˜æ¸©', linewidth=2)
    ax1.plot(weather_data['dates'], weather_data['low_temp'], 'b-o',
             label='æœ€ä½æ¸©', linewidth=2)
    ax1.fill_between(weather_data['dates'],
                     weather_data['high_temp'],
                     weather_data['low_temp'],
                     alpha=0.2)
    
    # æ·»åŠ æ¸©åº¦æ ‡ç­¾
    for i, (high, low) in enumerate(zip(weather_data['high_temp'],
                                      weather_data['low_temp'])):
        ax1.text(i, high+0.5, f'{high}Â°C', ha='center')
        ax1.text(i, low-0.5, f'{low}Â°C', ha='center')
    
    # è®¾ç½®æ¸©åº¦å›¾
    ax1.set_title(title)
    ax1.set_ylabel('æ¸©åº¦ (Â°C)')
    ax1.grid(True)
    ax1.legend()
    
    # é™æ°´æ¦‚ç‡
    ax2.bar(weather_data['dates'], weather_data['rain_prob'],
            color='skyblue', alpha=0.6)
    ax2.set_ylabel('é™æ°´æ¦‚ç‡ (%)')
    ax2.grid(True)
    
    # é£åŠ›
    ax3.bar(weather_data['dates'], weather_data['wind_speed'],
            color='lightgreen', alpha=0.6)
    ax3.set_ylabel('é£é€Ÿ (m/s)')
    ax3.grid(True)
    
    # è®¾ç½®xè½´æ ‡ç­¾
    plt.xticks(weather_data['dates'], weather_data['weekdays'], rotation=45)
    
    plt.tight_layout()
    return fig

# ç”Ÿæˆç¤ºä¾‹æ•°æ®
dates = np.arange(7)
weekdays = ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥']
weather_data = {
    'dates': dates,
    'weekdays': weekdays,
    'high_temp': np.array([26, 28, 25, 27, 29, 30, 28]),
    'low_temp': np.array([18, 19, 17, 20, 21, 22, 20]),
    'rain_prob': np.array([20, 60, 80, 30, 10, 5, 40]),
    'wind_speed': np.array([3, 4, 5, 3, 2, 2, 4])
}

plot_weather_forecast(weather_data)
plt.show()
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šä¸ºæ°”è±¡éƒ¨é—¨åˆ›å»ºç›´è§‚çš„å¤©æ°”é¢„æŠ¥å¯è§†åŒ–å·¥å…·ï¼Œå¸®åŠ©å…¬ä¼—æ›´å¥½åœ°äº†è§£æœªæ¥å¤©æ°”å˜åŒ–ã€‚

## ç¬¬ä¹ç« ï¼šæ€§èƒ½ä¼˜åŒ– - è®©å›¾è¡¨æ›´å¿«æ›´æµç•… ğŸš€

### 9.1 å†…å­˜ç®¡ç†

```python
# å†…å­˜ç®¡ç†ä¼˜åŒ–
import matplotlib.pyplot as plt
import numpy as np

def plot_large_dataset(data_generator, chunk_size=1000):
    """åˆ†å—å¤„ç†å¤§æ•°æ®é›†çš„ç»˜å›¾å‡½æ•°"""
    plt.figure(figsize=(12, 6))
    
    # åˆå§‹åŒ–æ•°æ®å­˜å‚¨
    x_data = []
    y_data = []
    
    # åˆ†å—å¤„ç†æ•°æ®
    for chunk in data_generator(chunk_size):
        x_data.extend(chunk['x'])
        y_data.extend(chunk['y'])
        
        # æ¸…é™¤ä¹‹å‰çš„å›¾å½¢
        plt.clf()
        
        # ç»˜åˆ¶æ–°æ•°æ®
        plt.plot(x_data, y_data, 'b-', alpha=0.6)
        plt.title('å¤§æ•°æ®é›†å¯è§†åŒ–')
        plt.xlabel('Xè½´')
        plt.ylabel('Yè½´')
        plt.grid(True)
        
        # æ›´æ–°æ˜¾ç¤º
        plt.pause(0.1)
    
    plt.show()

# æ•°æ®ç”Ÿæˆå™¨ç¤ºä¾‹
def data_generator(chunk_size):
    """ç”Ÿæˆæ•°æ®çš„è¿­ä»£å™¨"""
    for i in range(10):
        x = np.arange(i*chunk_size, (i+1)*chunk_size)
        y = np.sin(x/100) + np.random.normal(0, 0.1, chunk_size)
        yield {'x': x, 'y': y}

# ä½¿ç”¨ç¤ºä¾‹
plot_large_dataset(data_generator)
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šå¤„ç†å¤§è§„æ¨¡ä¼ æ„Ÿå™¨æ•°æ®çš„å®æ—¶å¯è§†åŒ–ï¼Œç¡®ä¿åœ¨èµ„æºå—é™çš„ç¯å¢ƒä¸‹ä¹Ÿèƒ½æµç•…è¿è¡Œã€‚

### 9.2 ç»˜å›¾ä¼˜åŒ–æŠ€å·§

1. **ä½¿ç”¨é€‚å½“çš„å›¾è¡¨ç±»å‹**
   - æ•°æ®é‡å¤§æ—¶é¿å…ä½¿ç”¨æ•£ç‚¹å›¾
   - è€ƒè™‘ä½¿ç”¨çƒ­å›¾ä»£æ›¿å¤§è§„æ¨¡æ•£ç‚¹å›¾
   - ä½¿ç”¨æŠ½æ ·æˆ–èšåˆæ¥å‡å°‘æ•°æ®ç‚¹

2. **æ‰¹é‡ç»˜åˆ¶**
   - ä½¿ç”¨plot()çš„æ‰¹é‡ç»˜åˆ¶åŠŸèƒ½
   - é¿å…é¢‘ç¹è°ƒç”¨ç»˜å›¾å‡½æ•°
   - åˆç†ä½¿ç”¨ç¼“å­˜æœºåˆ¶

3. **æ˜¾ç¤ºä¼˜åŒ–**
   - ä½¿ç”¨plt.ion()è¿›è¡Œäº¤äº’å¼æ˜¾ç¤º
   - é€‚å½“è®¾ç½®åˆ·æ–°ç‡
   - ä½¿ç”¨plt.draw()ä»£æ›¿plt.show()

4. **æ–‡ä»¶å¤„ç†**
   - ä½¿ç”¨é€‚å½“çš„å›¾ç‰‡æ ¼å¼å’Œåˆ†è¾¨ç‡
   - åˆç†è®¾ç½®dpiå‚æ•°
   - è€ƒè™‘ä½¿ç”¨çŸ¢é‡æ ¼å¼ï¼ˆSVGï¼‰

### 9.3 å¹¶è¡Œå¤„ç†

```python
# å¹¶è¡Œå¤„ç†å¤§è§„æ¨¡æ•°æ®å¯è§†åŒ–
import matplotlib.pyplot as plt
import numpy as np
from multiprocessing import Pool
from functools import partial

def process_data_chunk(chunk_data, params):
    """å¤„ç†æ•°æ®å—çš„å‡½æ•°"""
    # æ•°æ®å¤„ç†é€»è¾‘
    processed_x = chunk_data['x'] * params['scale']
    processed_y = np.sin(processed_x) * params['amplitude']
    return {'x': processed_x, 'y': processed_y}

def parallel_plot(data_chunks, process_params, n_processes=4):
    """å¹¶è¡Œå¤„ç†æ•°æ®å¹¶ç»˜å›¾"""
    # åˆ›å»ºè¿›ç¨‹æ± 
    with Pool(n_processes) as pool:
        # å¹¶è¡Œå¤„ç†æ•°æ®
        process_func = partial(process_data_chunk, params=process_params)
        results = pool.map(process_func, data_chunks)
    
    # ç»˜åˆ¶ç»“æœ
    plt.figure(figsize=(12, 6))
    for result in results:
        plt.plot(result['x'], result['y'], 'b-', alpha=0.5)
    
    plt.title('å¹¶è¡Œå¤„ç†æ•°æ®å¯è§†åŒ–')
    plt.xlabel('Xè½´')
    plt.ylabel('Yè½´')
    plt.grid(True)
    plt.show()

# ä½¿ç”¨ç¤ºä¾‹
# å‡†å¤‡æ•°æ®å—
data_chunks = [
    {'x': np.arange(i*1000, (i+1)*1000)} for i in range(10)
]

# å¤„ç†å‚æ•°
process_params = {
    'scale': 0.1,
    'amplitude': 2
}

# æ‰§è¡Œå¹¶è¡Œå¤„ç†å’Œç»˜å›¾
parallel_plot(data_chunks, process_params)
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼šå¤„ç†æµ·é‡æ°”è±¡æ•°æ®æˆ–é‡‘èå¸‚åœºæ•°æ®çš„å¯è§†åŒ–ï¼Œåˆ©ç”¨å¤šæ ¸å¤„ç†å™¨æé«˜å¤„ç†æ•ˆç‡ã€‚

## ç»“è¯­ï¼šå¯è§†åŒ–ä¹‹è·¯æ°¸æ— æ­¢å¢ƒ ğŸŒŸ

æ­å–œä½ å®Œæˆäº†è¿™æ®µæ•°æ®å¯è§†åŒ–çš„å¥‡å¦™æ—…ç¨‹ï¼è®°ä½ï¼ŒMatplotlib ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç»˜å›¾åº“ï¼Œå®ƒæ˜¯ä½ è®²è¿°æ•°æ®æ•…äº‹çš„å¾—åŠ›åŠ©æ‰‹ã€‚æ— è®ºæ˜¯ç®€å•çš„æŠ˜çº¿å›¾ï¼Œè¿˜æ˜¯å¤æ‚çš„äº¤äº’å¼ä»ªè¡¨ç›˜ï¼Œå®ƒéƒ½èƒ½å¸®ä½ å®ç°ã€‚

ç»§ç»­æ¢ç´¢ï¼Œç»§ç»­åˆ›æ–°ï¼Œè®©ä½ çš„æ•°æ®å¯è§†åŒ–ä½œå“æ—¢ä¸“ä¸šåˆå¯Œæœ‰åˆ›æ„ï¼ç¥ä½ åœ¨æ•°æ®å¯è§†åŒ–çš„é“è·¯ä¸Šè¶Šèµ°è¶Šè¿œï¼ğŸš€âœ¨

**æœ€åçš„å»ºè®®ï¼š**
1. å¤šè§‚å¯Ÿä¼˜ç§€çš„æ•°æ®å¯è§†åŒ–ä½œå“
2. åŸ¹å…»å®¡ç¾ï¼Œæ³¨é‡ç»†èŠ‚
3. æŒç»­å­¦ä¹ æ–°æŠ€æœ¯å’Œæ–°æ–¹æ³•
4. å¤šå®è·µï¼Œå¤šæ€»ç»“
5. è®°ä½ï¼šç®€å•å¾€å¾€æ˜¯æœ€å¥½çš„é€‰æ‹©