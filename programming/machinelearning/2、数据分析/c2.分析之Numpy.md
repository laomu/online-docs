# NumPy：Python 中的“数字魔法师”

## 一、NumPy 概述

想象一下，你面前有一堆数字，它们像顽皮的小精灵一样到处乱跑。NumPy 就像是一个超级厉害的“数字魔法师”，能够把这些小精灵们整齐地排列好，然后用各种神奇的魔法（函数）来操作它们。

NumPy 是 Python 中用于科学计算的一个基础库，它提供了强大的多维数组对象和大量的操作这些数组的函数。用 NumPy，你可以轻松地处理大量的数据，就像在变魔术一样。

## 二、安装引入

在开始魔法之旅之前，我们需要召唤 NumPy。在 Python 中，你可以用以下咒语（代码）来安装和引入 NumPy：

```python
# 安装 NumPy
pip install numpy

# 引入 NumPy
import numpy as np
```

现在，NumPy 已经被召唤到你的代码世界里了，准备好了吗？让我们开始魔法表演！

## 三、数组创建方式

### 1. 创建一维数组

```python
# 创建一维数组
arr = np.array([1, 2, 3, 4, 5])
print(arr)  # 输出：[1 2 3 4 5]
```

**好玩案例**：假设你是一个数据分析师，正在分析学生的成绩。你可以用 NumPy 数组来记录每个学生的成绩，这样就能轻松地进行统计分析啦！

### 2. 创建二维数组

```python
# 创建二维数组
matrix = np.array([[1, 2, 3], [4, 5, 6]])
print(matrix)
# 输出：
# [[1 2 3]
#  [4 5 6]]
```

**好玩案例**：你是一个金融分析师，正在分析股票价格。用 NumPy 创建二维数组，就能轻松地记录不同时间点的股票价格啦！

### 3. 创建全零数组

```python
# 创建全零数组
zeros = np.zeros(5)
print(zeros)  # 输出：[0. 0. 0. 0. 0.]
```

**好玩案例**：你是一个数据科学家，正在处理缺失数据。用 NumPy 创建全零数组，就能轻松地初始化缺失值啦！

### 4. 创建全一数组

```python
# 创建全一数组
ones = np.ones((2, 3))
print(ones)
# 输出：
# [[1. 1. 1.]
#  [1. 1. 1.]]
```

**好玩案例**：你是一个图像处理工程师，正在处理图像数据。用 NumPy 创建全一数组，就能轻松地初始化图像的背景啦！

### 5. 创建随机数组

```python
# 创建随机数组
random = np.random.rand(3)
print(random)  # 输出：[0.5488135  0.71518937 0.60276338]
```

**好玩案例**：你是一个数据分析师，正在分析电影票房。用 NumPy 创建随机数组，就能轻松地生成模拟数据进行初步分析啦！

### 6. 使用指定值填充数组

```python
# 使用指定值填充数组
filled = np.full((2, 3), 7)
print(filled)
# 输出：
# [[7 7 7]
#  [7 7 7]]
```

**好玩案例**：你是一个市场分析师，正在分析产品销量。用 NumPy 使用指定值填充数组，就能轻松地初始化销量数据啦！

### 7. 创建等差数列数组

```python
# 创建等差数列数组
arange = np.arange(1, 10, 2)
print(arange)  # 输出：[1 3 5 7 9]
```

**好玩案例**：你是一个数据分析师，正在分析学生的年龄分布。用 NumPy 创建等差数列数组，就能轻松地生成年龄序列进行分析啦！

### 8. 创建等间隔数组

```python
# 创建等间隔数组
linspace = np.linspace(0, 10, 5)
print(linspace)  # 输出：[ 0.   2.5  5.   7.5 10. ]
```

**好玩案例**：你是一个数据分析师，正在分析股票价格的变化趋势。用 NumPy 创建等间隔数组，就能轻松地生成时间序列进行分析啦！

## 四、数组矩阵的属性

### 1. 查看数组形状

```python
# 查看数组形状
print(arr.shape)  # 输出：(5,)
print(matrix.shape)  # 输出：(2, 3)
```

### 2. 查看数组大小

```python
# 查看数组大小
print(arr.size)  # 输出：5
print(matrix.size)  # 输出：6
```

### 3. 查看数组维度

```python
# 查看数组维度
print(arr.ndim)  # 输出：1
print(matrix.ndim)  # 输出：2
```

### 4. 查看数组数据类型

```python
# 查看数组数据类型
print(arr.dtype)  # 输出：int64
print(matrix.dtype)  # 输出：int64
```

### 5. 查看数组占用的内存大小

```python
# 查看数组占用的内存大小
print(arr.nbytes)  # 输出：40
print(matrix.nbytes)  # 输出：48
```

## 五、数组索引和切片

### 1. 一维数组索引

```python
# 一维数组索引
print(arr[0])  # 输出：1
print(arr[-1])  # 输出：5
```

### 2. 一维数组切片

```python
# 一维数组切片
print(arr[1:4])  # 输出：[2 3 4]
```

### 3. 二维数组索引

```python
# 二维数组索引
print(matrix[0, 2])  # 输出：3
```

### 4. 二维数组切片

```python
# 二维数组切片
print(matrix[1, :])  # 输出：[4 5 6]
```

## 六、数组运算

### 1. 数组加法

```python
# 数组加法
arr1 = np.array([1, 2, 3])
arr2 = np.array([4, 5, 6])
print(arr1 + arr2)  # 输出：[5 7 9]
```

### 2. 数组乘法

```python
# 数组乘法
print(arr1 * arr2)  # 输出：[ 4 10 18]
```

### 3. 数组除法

```python
# 数组除法
print(arr1 / arr2)  # 输出：[0.25 0.4  0.5 ]
```

### 4. 数组广播

```python
# 广播
print(arr + 10)  # 输出：[11 12 13 14 15]
```

## 七、数学统计函数

### 1. 求和

```python
# 求和
print(np.sum(arr))  # 输出：15
```

### 2. 平均值

```python
# 平均值
print(np.mean(arr))  # 输出：3.0
```

### 3. 最大值

```python
# 最大值
print(np.max(arr))  # 输出：5
```

### 4. 最小值

```python
# 最小值
print(np.min(arr))  # 输出：1
```

### 5. 标准差

```python
# 标准差
print(np.std(arr))  # 输出：1.4142135623730951
```

## 八、矩阵变形和拼接

### 1. 矩阵变形

```python
# 矩阵变形
reshaped = arr.reshape((5, 1))
print(reshaped)
# 输出：
# [[1]
#  [2]
#  [3]
#  [4]
#  [5]]
```

### 2. 矩阵拼接

```python
# 矩阵拼接
concatenated = np.concatenate((matrix, matrix), axis=0)
print(concatenated)
# 输出：
# [[1 2 3]
#  [4 5 6]
#  [1 2 3]
#  [4 5 6]]
```

## 九、布尔索引

```python
# 布尔索引
print(arr > 2)  # 输出：[False False  True  True  True]
print(arr[arr > 2])  # 输出：[3 4 5]
```

## 十、线性代数运算

### 1. 矩阵相乘

```python
# 矩阵相乘
print(np.dot(matrix1, matrix2))
# 输出：
# [[19 22]
#  [43 50]]
```

### 2. 矩阵转置

```python
# 矩阵转置
print(matrix1.T)
# 输出：
# [[1 3]
#  [2 4]]
```

### 3. 求逆矩阵

```python
# 求逆矩阵
inv_matrix = np.linalg.inv(matrix1)
print(inv_matrix)
# 输出：
# [[-2.   1. ]
#  [ 1.5 -0.5]]
```

## 十一、总结

### NumPy 和数据分析

NumPy 是数据分析的“瑞士军刀”。它提供了强大的数组操作功能，能够轻松地处理和分析大量数据。无论是简单的统计分析，还是复杂的矩阵运算，NumPy 都能帮你搞定。

### NumPy 的价值

- **高效**：NumPy 的底层是用 C 语言写的，所以它的运算速度超级快。
- **强大**：提供了大量的函数，能满足你各种数据分析的需求。
- **易用**：语法简洁明了，即使是新手也能快速上手。

### NumPy 对机器学习和深度学习的作用

在机器学习和深度学习中，NumPy 是“数据的搬运工”。它能够高效地处理和转换数据，为模型训练提供支持。无论是特征提取、数据预处理，还是模型评估，NumPy 都是不可或缺的工具。

## 十二、常见属性和函数

| 属性/函数名称       | 描述                                     |
| ------------------- | ---------------------------------------- |
| `np.array`          | 创建一个 NumPy 数组                      |
| `np.zeros`          | 创建一个全零数组                         |
| `np.ones`           | 创建一个全一数组                         |
| `np.empty`          | 创建一个未初始化的数组                   |
| `np.arange`         | 创建一个等差数列数组                     |
| `np.linspace`       | 创建一个等间隔数组                       |
| `np.random.rand`    | 创建一个随机数组（均匀分布）             |
| `np.random.randn`   | 创建一个随机数组（正态分布）             |
| `np.random.randint` | 创建一个随机整数数组                     |
| `np.full`           | 创建一个指定值填充的数组                 |
| `np.eye`            | 创建一个单位矩阵                         |
| `np.diag`           | 创建一个对角矩阵                         |
| `shape`             | 返回数组的形状                           |
| `ndim`              | 返回数组的维度                           |
| `size`              | 返回数组的元素总数                       |
| `dtype`             | 返回数组的数据类型                       |
| `itemsize`          | 返回数组中每个元素的大小（字节）         |
| `nbytes`            | 返回数组占用的总字节数                   |
| `reshape`           | 改变数组的形状                           |
| `flatten`           | 将数组展平为一维数组                     |
| `ravel`             | 将数组展平为一维数组（视图）             |
| `transpose`         | 转置数组                                 |
| `T`                 | 转置数组（属性）                         |
| `np.concatenate`    | 沿指定轴拼接数组                         |
| `np.vstack`         | 垂直堆叠数组                             |
| `np.hstack`         | 水平堆叠数组                             |
| `np.split`          | 沿指定轴分割数组                         |
| `np.hsplit`         | 水平分割数组                             |
| `np.vsplit`         | 垂直分割数组                             |
| `np.where`          | 根据条件选择数组元素                     |
| `np.select`         | 根据多个条件选择数组元素                 |
| `np.take`           | 按索引取数组元素                         |
| `np.put`            | 按索引修改数组元素                       |
| `np.sort`           | 对数组进行排序                           |
| `np.argsort`        | 返回数组排序后的索引                     |
| `np.argmax`         | 返回数组中最大值的索引                   |
| `np.argmin`         | 返回数组中最小值的索引                   |
| `np.sum`            | 计算数组元素的总和                       |
| `np.mean`           | 计算数组元素的平均值                     |
| `np.median`         | 计算数组元素的中位数                     |
| `np.std`            | 计算数组元素的标准差                     |
| `np.var`            | 计算数组元素的方差                       |
| `np.min`            | 返回数组中的最小值                       |
| `np.max`            | 返回数组中的最大值                       |
| `np.ptp`            | 返回数组的最大值与最小值之差             |
| `np.cumsum`         | 计算数组的累积和                         |
| `np.cumprod`        | 计算数组的累积积                         |
| `np.diff`           | 计算数组的差分                           |
| `np.gradient`       | 计算数组的梯度                           |
| `np.all`            | 检查数组中所有元素是否满足条件           |
| `np.any`            | 检查数组中是否有元素满足条件             |
| `np.nonzero`        | 返回数组中非零元素的索引                 |
| `np.unique`         | 返回数组中唯一的元素                     |
| `np.in1d`           | 检查一个数组的元素是否存在于另一个数组中 |
| `np.intersect1d`    | 返回两个数组的交集                       |
| `np.union1d`        | 返回两个数组的并集                       |
| `np.setdiff1d`      | 返回两个数组的差集                       |
| `np.setxor1d`       | 返回两个数组的对称差集                   |
| `np.dot`            | 计算两个数组的点积                       |
| `np.matmul`         | 计算两个数组的矩阵乘法                   |
| `np.linalg.inv`     | 计算矩阵的逆                             |
| `np.linalg.det`     | 计算矩阵的行列式                         |
| `np.linalg.eig`     | 计算矩阵的特征值和特征向量               |
| `np.linalg.svd`     | 计算矩阵的奇异值分解                     |
| `np.linalg.norm`    | 计算矩阵或向量的范数                     |
| `np.linalg.solve`   | 解线性方程组                             |
| `np.linalg.lstsq`   | 解最小二乘问题                           |
| `np.fft.fft`        | 计算一维离散傅里叶变换                   |
| `np.fft.ifft`       | 计算一维离散傅里叶逆变换                 |
| `np.fft.fft2`       | 计算二维离散傅里叶变换                   |
| `np.fft.ifft2`      | 计算二维离散傅里叶逆变换                 |
| `np.save`           | 将数组保存到文件                         |
| `np.load`           | 从文件加载数组                           |
| `np.savetxt`        | 将数组保存为文本文件                     |
| `np.loadtxt`        | 从文本文件加载数组                       |